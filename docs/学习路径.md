# 学习路径和开发指南

## 一、项目分析：Langchain-Chatchat 核心功能

### 1.1 核心功能拆解

**基础 RAG 流程**：
```
用户问题 → 向量检索 → 上下文组装 → LLM 生成 → 返回答案
```

**知识库管理**：
- 文档上传和解析
- 文档切分和向量化
- 知识库的增删改查

**Agent 功能**（LangGraph）：
- 多步骤推理
- 工具调用
- 条件分支和循环

### 1.2 技术要点

1. **LangChain 核心概念**
   - Document Loaders（文档加载）
   - Text Splitters（文本切分）
   - Embeddings（向量化）
   - Vector Stores（向量存储）
   - RetrievalQA Chain（检索链）
   - Memory（对话记忆）

2. **LangGraph 核心概念**
   - State（状态管理）
   - Nodes（节点）
   - Edges（边/条件）
   - Graph（图结构）

## 二、分阶段学习计划

### 阶段一：LangChain 基础 RAG（1-2周）

**学习目标**：
- 理解 RAG 原理
- 掌握 LangChain 基础组件
- 实现简单问答功能

**实践任务**：
1. 使用 LangChain 加载本地文档（PDF/TXT）
2. 实现文本切分（RecursiveCharacterTextSplitter）
3. 使用 OpenAI Embeddings 或本地模型
4. 创建 FAISS 向量库
5. 实现 RetrievalQA Chain
6. 测试基础问答功能

**关键代码位置**：
- `src/core/vectorstore/faiss_store.py` - 向量存储实现
- `src/core/chain/rag_chain.py` - RAG 链实现

### 阶段二：知识库管理（1周）

**学习目标**：
- 理解知识库架构
- 实现文档管理功能

**实践任务**：
1. 设计知识库数据结构
2. 实现文档上传接口
3. 实现向量库重建功能
4. 实现知识库查询和删除

**关键代码位置**：
- `src/knowledge_base/kb_manager.py` - 知识库管理器

### 阶段三：LangGraph Agent（2周）

**学习目标**：
- 理解 LangGraph 架构
- 实现多步骤 Agent

**学习资源**：
- [LangGraph 官方教程](https://langchain-ai.github.io/langgraph/tutorials/)
- 从简单 Agent 开始，逐步增加复杂度

**实践任务**：
1. 学习 LangGraph State 和 Node 概念
2. 实现简单的多步骤 Agent（如：检索 → 总结 → 回答）
3. 添加工具调用功能（如：搜索、计算器）
4. 实现条件分支（根据问题类型选择不同处理路径）

**关键代码位置**：
- `src/agent/graph.py` - LangGraph 图定义
- `src/agent/nodes.py` - 各个节点实现

### 阶段四：Web UI 和优化（1周）

**学习目标**：
- 构建完整应用
- 优化用户体验

**实践任务**：
1. 使用 FastAPI 构建 REST API
2. 使用 Streamlit 或 Gradio 构建前端
3. 实现流式输出
4. 添加错误处理和日志
5. 编写 README 和文档

## 三、开发检查点

每个阶段完成后，你应该能够：

**阶段一检查点**：
- [ ] 能够从文档中检索相关信息
- [ ] 能够基于检索内容生成答案
- [ ] 理解向量检索的原理

**阶段二检查点**：
- [ ] 能够创建和管理多个知识库
- [ ] 能够上传新文档并自动向量化
- [ ] 理解知识库的数据结构

**阶段三检查点**：
- [ ] 能够画出你的 Agent 流程图
- [ ] 能够解释每个节点的作用
- [ ] 能够添加新的工具和节点

**阶段四检查点**：
- [ ] 能够通过 Web 界面使用所有功能
- [ ] 代码结构清晰，有注释
- [ ] 有完整的项目文档

## 四、遇到问题时的解决思路

1. **先看官方文档**：LangChain 和 LangGraph 文档很详细
2. **查看示例代码**：GitHub 上有很多 RAG 示例
3. **调试技巧**：
   - 打印中间结果（检索到的文档、组装后的 prompt）
   - 使用 LangSmith 追踪（如果可用）
   - 逐步测试每个组件

4. **常见问题**：
   - 向量检索不准确 → 调整 chunk_size 和 overlap
   - 答案不相关 → 检查 prompt 和检索策略
   - Agent 卡住 → 检查条件分支和终止条件

## 五、简历项目描述建议

完成项目后，可以这样描述：

> **基于 LangChain 的智能问答系统**
> - 使用 LangChain 实现 RAG 架构，支持文档检索和上下文生成
> - 使用 LangGraph 构建多步骤 Agent，实现条件分支和工具调用
> - 实现知识库管理系统，支持文档上传、向量化和检索
> - 使用 FastAPI 构建 RESTful API，Streamlit 构建 Web 界面
> - 支持多种向量数据库（FAISS、Chroma）和 LLM（OpenAI、Ollama）

